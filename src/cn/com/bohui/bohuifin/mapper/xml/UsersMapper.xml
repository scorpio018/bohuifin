<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="cn.com.bohui.bohuifin.mapper.UsersMapper">    <resultMap type="UsersBean" id="UsersResult">        <result column="user_id" property="userId"/>        <result column="user_name" property="userName"/>        <result column="pwd" property="pwd"/>        <result column="true_name" property="trueName"/>        <result column="dept_id" property="deptId"/>        <result column="salt" property="salt"/>        <result column="nick_name" property="nickName"/>        <result column="memo" property="memo"/>        <result column="id_card" property="idCard"/>        <result column="id_card_img_font" property="idCardImgFont"/>        <result column="id_card_img_back" property="idCardImgBack"/>        <result column="opening_date" property="openingDate"/>        <result column="headimg" property="headimg"/>        <result column="email" property="email"/>        <result column="personal_signature" property="personalSignature"/>        <result column="list_order" property="listOrder"/>        <result column="create_time" property="createTime"/>        <result column="create_by" property="createBy"/>        <result column="update_time" property="updateTime"/>        <result column="update_by" property="updateBy"/>        <result column="state" property="state"/>    </resultMap>    <sql id="baseSelect">		user_id as userId,		user_name as userName,		pwd,		true_name as trueName,		dept_id as deptId,		salt,        authority_group_id as authorityGroupId,		nick_name as nickName,		memo,		id_card as idCard,		id_card_img_font as idCardImgFont,		id_card_img_back as idCardImgBack,		opening_date as openingDate,		headimg,		email,		personal_signature as personalSignature,		list_order as listOrder,		create_time as createTime,		create_by as createBy,		update_time as updateTime,		update_by as updateBy,		state	</sql>    <insert id="saveUsers" parameterType="UsersBean">		insert into t_users(user_id, user_name, pwd, salt, authority_group_id, true_name, dept_id, nick_name, memo, id_card, id_card_img_font, id_card_img_back, opening_date, headimg, email, personal_signature, list_order, create_time, create_by, update_time, update_by, state)		values (#{userId}, #{userName}, #{pwd}, #{salt}, #{authorityGroupId}, #{trueName}, #{deptId}, #{nickName}, #{memo}, #{idCard}, #{idCardImgFont}, #{idCardImgBack}, #{openingDate}, #{headimg}, #{email}, #{personalSignature}, #{listOrder}, #{createTime}, #{createBy}, #{updateTime}, #{updateBy}, #{state})	</insert>    <update id="updatePwd" parameterType="Usersbean">        update            t_users        set            pwd = #{pwd},            update_by = #{updateBy},            update_time = #{updateTime}        where            user_id = #{userId}    </update>    <update id="updateUser" parameterType="UsersBean">		update t_users		set			user_name = #{userName}            <if test="pwd != null">                ,pwd = #{pwd}            </if>			,true_name = #{trueName}			,dept_id = #{deptId}			,nick_name = #{nickName}            <if test="memo != null">                ,memo = #{memo}            </if>            <if test="idCard != null">                ,id_card = #{idCard}            </if>            <if test="idCardImgFont != null">                ,id_card_img_font = #{idCardImgFont}            </if>            <if test="idCardImgBack != null">                ,id_card_img_back = #{idCardImgBack}            </if>            <if test="openingDate != null">                ,opening_date = #{openingDate}            </if>            <if test="headimg != null">                ,headimg = #{headimg}            </if>            <if test="email != null">                ,email = #{email}            </if>            <if test="personalSignature != null">                ,personal_signature = #{personalSignature}            </if>			,list_order = #{listOrder}            <if test="createTime != null">                ,create_time = #{createTime}            </if>            <if test="createBy != null and createBy != 0">                ,create_by = #{createBy}            </if>            <if test="updateTime != null">                ,update_time = #{updateTime}            </if>            <if test="updateBy != null and updateBy != 0">                ,update_by = #{updateBy}            </if>		where			user_id = #{userId}	</update>    <select id="listUsersByPage" parameterType="page" resultMap="UsersResult">        select        <include refid="baseSelect"/>        from        t_users        where          state = #{vo.state}        <if test="params.keyword != null and params.keyword != ''">            and (user_name like #{params.keyword} or true_name like #{params.keyword})        </if>    </select>    <select id="listAllUsers" parameterType="java.util.Map" resultMap="UsersResult">        select          <include refid="baseSelect"/>        from          t_users        where          state = #{vo.state}        <if test="params.keyword != null and params.keyword != ''">            and (user_name like #{params.keyword} or true_name like #{params.keyword})        </if>    </select>    <select id="findUserById" parameterType="java.lang.String" resultMap="UsersResult">        select        <include refid="baseSelect"/>        from        t_users        where        user_id = #{userId}    </select>    <select id="getUsersBean" parameterType="UsersBean" resultMap="UsersResult">        select            <include refid="baseSelect"/>        from          t_users        where          user_name = #{userName}        <if test="authorityGroupId != null and authorityGroupId != 0">            and authority_group_id = #{authorityGroupId}        </if>        <if test="userId != null and userId != 0">            and user_id <![CDATA[<>]]> #{userId}        </if>        and          state = #{state}    </select>    <delete id="removeUserById" parameterType="UsersBean">		update            t_users        set            state = #{state}        where            user_id = #{userId}	</delete>    <delete id="removeUsersById" parameterType="UsersVo">		update            t_users        set            state = #{state}        where            user_id in        <foreach collection="userIds" item="userId" open="(" close=")" separator=",">            #{userId}        </foreach>	</delete></mapper>
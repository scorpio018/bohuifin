<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="cn.com.bohui.bohuifin.mapper.ProductIncomeRecordMapper">    <resultMap type="ProductIncomeRecordBean" id="ProductIncomeRecordResult">        <result column="record_id" property="recordId"/>        <result column="product_id" property="productId"/>        <result column="income" property="income"/>        <result column="income_time" property="incomeTime"/>        <result column="income_amount" property="incomeAmount"/>        <result column="list_order" property="listOrder"/>        <result column="create_time" property="createTime"/>        <result column="create_by" property="createBy"/>        <result column="update_time" property="updateTime"/>        <result column="update_by" property="updateBy"/>        <result column="state" property="state"/>    </resultMap>    <sql id="baseSelect">		record_id,		product_id,		income,		income_time,		income_amount,		list_order,		create_time,		create_by,		update_time,		update_by,		state	</sql>    <insert id="saveProductIncomeRecord" parameterType="ProductIncomeRecordBean">		insert into t_product_income_record(record_id, product_id, income, income_time, income_amount, list_order, create_time, create_by, state)		values (#{recordId}, #{productId}, #{income}, #{incomeTime}, #{incomeAmount}, #{listOrder}, #{createTime}, #{createBy}, #{state})	</insert>    <update id="updateProductIncomeRecord" parameterType="ProductIncomeRecordBean">        update t_product_income_record        set        income = #{income},        income_amount = #{incomeAmount}        <if test="listOrder != null and listOrder != 0">            ,list_order = #{listOrder}        </if>        <if test="updateTime != null">            ,update_time = #{updateTime}        </if>        <if test="updateBy != null">            ,update_by = #{updateBy}        </if>        where        product_id = #{productId}        and        income_time = #{incomeTime}        and        state = #{state}    </update>    <select id="listProductIncomeRecordByPage" parameterType="page" resultMap="ProductIncomeRecordResult">        select        <include refid="baseSelect"/>        from        t_product_income_record    </select>    <select id="listProductIncomeRecordByProductId" parameterType="ProductIncomeRecordBean"            resultMap="ProductIncomeRecordResult">        select        <include refid="baseSelect"/>        from        t_product_income_record        where        product_id = #{productId}        and        state = #{state}    </select>    <select id="findProductIncomeByProductIdAndIncomeTime" parameterType="ProductIncomeRecordBean"            resultMap="ProductIncomeRecordResult">        select        <include refid="baseSelect"/>        from        t_product_income_record        where        product_id = #{productId}        and        income_time = #{incomeTime}        and        state = #{state}    </select>    <delete id="removeProductIncomeRecordById" parameterType="ProductIncomeRecordBean">		update		t_product_income_record		set		state = #{state}		where		record_id = #{recordId}	</delete></mapper>